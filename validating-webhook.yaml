apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: warden-validating-webhook
  namespace: validation
webhooks:
  - name: warden.validation.svc
    failurePolicy: Fail
    sideEffects: None
    admissionReviewVersions: ["v1","v1beta1"]
    rules:
      - apiGroups: ["apps", ""]
        resources:
          - "deployments"
          - "pods"
        apiVersions:
          - "*"
        operations:
          - CREATE
    clientConfig:
      service:
        name: warden
        namespace: validation
        path: /validate/
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURQekNDQWllZ0F3SUJBZ0lSQUtsUzNvaDFUZWw4ZHl2N3JSYUFSVTh3RFFZSktvWklodmNOQVFFTEJRQXcKUGpFVk1CTUdBMVVFQ2hNTVkyVnlkQzF0WVc1aFoyVnlNU1V3SXdZRFZRUURFeHgyWVd4cFpHRjBhVzl1TG5OMgpZeTVqYkhWemRHVnlMbXh2WTJGc01CNFhEVEl3TURreE1ERTFNVEV3T0ZvWERUSXdNVEl3T1RFMU1URXdPRm93ClBqRVZNQk1HQTFVRUNoTU1ZMlZ5ZEMxdFlXNWhaMlZ5TVNVd0l3WURWUVFERXh4MllXeHBaR0YwYVc5dUxuTjIKWXk1amJIVnpkR1Z5TG14dlkyRnNNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQp0VWo1cnRtSHp4S2p0YXUrUjZZMXlDWGlqQmlrZlBabW05Rlk1OEFqdnJsSytXZm9rY21Ec21jNkZUajJmOEp0Cm94TXFEMkl5bnpRd094Sm5abXRUUWlZMnc4aXE0cjJhSFpaOFhXWVRQdWJCN3BLVFN6TllCR050QWRIaTNGVm8KL1c3R2tXWEVrVHRXQ2tBQkdwZzBtSGlucWowQUQrRkh0SGNGYTF5N2U5OGpzM3dCd1FCanpmclQ1d044YWRJZgpyR29qcG96V2sxNi9mSlRLNUxzdnFUdmpYY3FqTyttenZtTnNxOVNCdEZOdDlZYllmbElUbWZuWW1HaDRPSWZBCnYvYm1xeFhiT1E1Ylh1VnV1Tm40ODQwS2NDT3QyalpqSEd3dFg2N2lMU0ZicW8xWUwyS00zT0RhQTg3R1lXYUgKSStXWU9MclAvZWlHc3c1b3plSk5QUUlEQVFBQm96Z3dOakFPQmdOVkhROEJBZjhFQkFNQ0FxUXdFd1lEVlIwbApCQXd3Q2dZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBTkJna3Foa2lHOXcwQkFRc0ZBQU9DCkFRRUFDcCtZZjJwa1ZJcGl4Sjdhc25ySVJqMzJrZWt3UUtnREZFalRhQXpnTDN1cUFDbDJkbWNveTJnejFXbmcKMHFLaXgxSmhoSjZUOHo1aEFEOUtiWUZmSmRtaW9tYkFwbHVYdnpxTUY2UGZ3TFRFbDRmYVN5OGN2bER0Qm4yVwpnMVl1Y0JqTHlFSkxqNDRpNUwyVkV4a2RrbzkxV1VzMUI2YnNEcXBKMUJiczZqVitHNlkwclFLVld0T3ZNSFVQCmJML0cyMTJ5cklxVlpOMldENmNpejBiZnR6TnF5c2JDU2pCMFhSWFY0aUQ0bUpFckc1YWFsSGRHWGN3WHQvTWcKTXVzblpIcHJ4elJVNXk0T09NMHBmeENEblV5WWZ0UmVuYUloNEZMeURMZG5pVE9UYWFMdzFyUlhBdWVIOXMwZApVTHBLaFQ5ZHRwbThnMDRrNm5rNENhTkFkdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K